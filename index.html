<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Mohammad Pharmacy | Your Health Partner</title>
    <meta name="description" content="Your trusted, modern pharmacy in the heart of Damascus, Syria. Offering professional health services, expert advice, and a wide range of medical products.">
    <meta name="keywords" content="pharmacy in damascus, syria pharmacy, modern pharmacy, health services damascus, ÿµŸäÿØŸÑŸäÿ© ŸÅŸä ÿØŸÖÿ¥ŸÇ, ÿµŸäÿØŸÑŸäÿ© ÿ≠ÿØŸäÿ´ÿ©">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mohammadpharmacy.com/">
    <meta property="og:title" content="Mohammad Pharmacy | Your Health Partner">
    <meta property="og:description" content="Your trusted pharmacy in the heart of Yabroud.">
    <meta property="og:image" content="https://mohammadpharmacy.com/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mohammadpharmacy.com/">
    <meta property="twitter:title" content="Mohammad Pharmacy | Your Health Partner">
    <meta property="twitter:description" content="Your trusted pharmacy in the heart of Yabroud.">
    <meta property="twitter:image" content="https://mohammadpharmacy.com/twitter-image.jpg">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öïÔ∏è</text></svg>">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Pharmacy",
      "name": "Mohammad Pharmacy",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Main Street, Salhiyaa",
        "addressLocality": "Yabroud, Damascus Suburb",
        "addressCountry": "SY"
      },
      "url": "https://mohammadpharmacy.com/",
      "telephone": "+963940252613"
    }
    </script>
</head>
<body>
    <div id="preloader">
        <div class="spinner"></div>
    </div>

    <header class="main-header">
        <nav class="navbar">
            <a href="#" class="navbar__logo" data-translate="logo_text" style="text-decoration: none; color: inherit;">Mohammad Pharmacy</a>
            <div class="navbar__controls">
                <button id="language-toggle" class="control-btn" aria-label="Toggle language">ÿπÿ±ÿ®Ÿä</button>
                <div class="theme-switch-wrapper">
                    <label class="theme-switch" for="theme-checkbox">
                        <input type="checkbox" id="theme-checkbox" aria-label="Toggle theme" />
                        <div class="slider round">
                            <span class="icon sun">‚òÄÔ∏è</span>
                            <span class="icon moon">üåô</span>
                        </div>
                    </label>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="hero-section">
            <div class="hero-bg">
                <div class="blob blob1"></div>
                <div class="blob blob2"></div>
                <div class="blob blob3"></div>
            </div>
            <div class="hero-content">
                <h1 class="hero-title" data-translate="hero_title">Your Health, Our Priority.</h1>
                <p class="hero-subtitle" data-translate="hero_subtitle">Your trusted pharmacy in the heart of Yabroud.</p>
                <a href="#contact" class="cta-button" data-translate="hero_cta">Contact Us</a>
            </div>
            <div class="hero-features">
                <div class="hero-feature-card">
                    <span class="feature-icon">‚è±Ô∏è</span>
                    <span data-translate="feature_1">24/7 Service</span>
                </div>
                <div class="hero-feature-card">
                    <span class="feature-icon">üë©‚Äç‚öïÔ∏è</span>
                    <span data-translate="feature_2">Expert Staff</span>
                </div>
                <div class="hero-feature-card">
                    <span class="feature-icon">üöÄ</span>
                    <span data-translate="feature_3">Fast Delivery</span>
                </div>
            </div>
        </section>

        <section id="services" class="services-section">
            <h2 class="section-title" data-translate="services_title">Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">üíä</div>
                    <h3 data-translate="service_1_title">Prescriptions</h3>
                    <p data-translate="service_1_desc">Fast and accurate prescription filling.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üî¨</div>
                    <h3 data-translate="service_2_title">Medical Advice</h3>
                    <p data-translate="service_2_desc">Professional consultation with our experts.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üåø</div>
                    <h3 data-translate="service_3_title">Wellness Products</h3>
                    <p data-translate="service_3_desc">A wide range of health and wellness items.</p>
                </div>

            </div>
        </section>

        <section id="map" class="map-section">
             <h2 class="section-title" data-translate="map_title">Find Us</h2>
             <div class="map-container">
                <iframe src="https://maps.google.com/maps?q=33.97174693862937,36.667403204692704&t=&z=15&ie=UTF8&iwloc=&output=embed" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
             </div>
        </section>

        <section id="contact" class="contact-section">
            <h2 class="section-title" data-translate="contact_title">Get In Touch</h2>
            <div class="contact-wrapper">
                <div class="contact-info">
                    <h3 data-translate="contact_info_title">Contact Information</h3>
                    <p data-translate="contact_info_desc">We are here to help. Contact us by phone, email or through the form.</p>
                    <div class="info-item">
                        <span class="info-icon">üìç</span>
                        <span data-translate="address">Main Street, Salhiyaa, Yabroud, Damascus Suburb, Syria</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">üìû</span>
                        <span><a href="tel:+963940252613" class="phone-number">+963 940 252 613</a></span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚úâÔ∏è</span>
                        <span><a href="mailto:mohammadpharmacy.sy@gmail.com">mohammadpharmacy.sy@gmail.com</a></span>
                    </div>
                </div>
                <form id="contact-form" class="contact-form" action="https://formspree.io/f/mnnrgldp" method="POST" novalidate>
                    <!-- IMPORTANT: Replace YOUR_FORM_ID with your actual Formspree form ID -->
                    <div class="form-group">
                        <label for="name" data-translate="form_name">Name</label>
                        <input type="text" id="name" name="name" required minlength="3">
                        <div class="error-message" data-translate="error_name"></div>
                    </div>
                    <div class="form-group">
                        <label for="phone" data-translate="form_phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required pattern="^09\d{8}$">
                         <div class="error-message" data-translate="error_phone"></div>
                    </div>
                    <div class="form-group">
                        <label for="message" data-translate="form_message">Message</label>
                        <textarea id="message" name="message" rows="4" required minlength="10"></textarea>
                         <div class="error-message" data-translate="error_message"></div>
                    </div>
                                        <button type="submit" class="cta-button" data-translate="form_submit">Send Message</button>
                    <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response">
                </form>
            </div>
            <div id="form-success-message" class="success-message" style="display: none;" data-translate="form_success">Thank you! Your message has been sent.</div>
        </section>
    </main>
    
    <footer class="main-footer">
        <p data-translate="footer_text">&copy; <span id="year"></span> Mohammad Pharmacy. All Rights Reserved.</p>
    </footer>

    <style>
        :root {
            --font-primary: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
            --font-secondary-ar: 'Tajawal', sans-serif; /* A good font for Arabic */
            
            /* Light Theme */
            --bg-color-light: #f0f2f5;
            --bg-blur-light: rgba(255, 255, 255, 0.4);
            --border-color-light: rgba(255, 255, 255, 0.6);
            --text-color-light: #1c1e21;
            --primary-color-light: #0066ff;
            --primary-hover-light: #0052cc;
            --card-bg-light: rgba(255, 255, 255, 0.6);

            /* Dark Theme */
            --bg-color-dark: #121212;
            --bg-blur-dark: rgba(26, 26, 26, 0.5);
            --border-color-dark: rgba(255, 255, 255, 0.1);
            --text-color-dark: #e4e6eb;
            --primary-color-dark: #00aaff;
            --primary-hover-dark: #0088cc;
            --card-bg-dark: rgba(30, 30, 30, 0.7);

            /* Mapped Variables */
            --bg-color: var(--bg-color-light);
            --bg-blur: var(--bg-blur-light);
            --border-color: var(--border-color-light);
            --text-color: var(--text-color-light);
            --primary-color: var(--primary-color-light);
            --primary-hover: var(--primary-hover-light);
            --card-bg: var(--card-bg-light);

            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 10px rgba(0,0,0,0.15);
            
            --transition-fast: all 0.2s ease-in-out;
        }

        html[data-theme='dark'] {
            --bg-color: var(--bg-color-dark);
            --bg-blur: var(--bg-blur-dark);
            --border-color: var(--border-color-dark);
            --text-color: var(--text-color-dark);
            --primary-color: var(--primary-color-dark);
            --primary-hover: var(--primary-hover-dark);
            --card-bg: var(--card-bg-dark);
        }

        /* Basic Reset & Setup */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
        }
        
        /* RTL Font Adjustments */
        [dir="rtl"] body {
            font-family: var(--font-secondary-ar), var(--font-primary);
        }

        /* Preloader */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: var(--primary-color);
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Header & Navbar */
        .main-header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding: 1rem 5%;
            background: var(--bg-blur);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .navbar__logo {
            font-weight: bold;
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        .navbar__controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Control Buttons */
        .control-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition-fast);
        }
        .control-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Theme Switch */
        .theme-switch-wrapper { display: flex; align-items: center; }
        .theme-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .theme-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(26px); }
        .slider .icon { position: absolute; top: 50%; transform: translateY(-50%); opacity: 0; transition: opacity 0.3s; }
        .slider .sun { left: 8px; }
        .slider .moon { right: 8px; }
        input:not(:checked) + .slider .sun { opacity: 1; }
        input:checked + .slider .moon { opacity: 1; }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            padding: 0 5%;
        }
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
        }
        .blob1 {
            width: 500px;
            height: 500px;
            background: rgba(0, 102, 255, 0.5);
            top: -10%;
            left: -10%;
            animation: moveBlob 15s infinite alternate;
        }
        .blob2 {
            width: 400px;
            height: 400px;
            background: rgba(0, 255, 153, 0.4);
            bottom: -5%;
            right: -5%;
            animation: moveBlob 12s infinite alternate-reverse;
        }
        .blob3 {
            width: 300px;
            height: 300px;
            background: rgba(153, 0, 255, 0.3);
            bottom: 25%;
            left: 20%;
            animation: moveBlob 10s infinite alternate;
        }
        @keyframes moveBlob {
            from {
                transform: translate(0, 0) scale(1);
            }
            to {
                transform: translate(50px, -50px) scale(1.1);
            }
        }

        .hero-content {
            z-index: 1;
            animation: fadeIn 1s ease-out 0.5s both;
        }
        
        .hero-features {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 2;
        }
        
        .hero-feature-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 0.75rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }
        
        .feature-icon {
            font-size: 1.2rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .hero-title {
            font-size: 4.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }
        .hero-subtitle {
            font-size: 1.75rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        .cta-button {
            display: inline-block;
            background: var(--primary-color);
            color: #fff;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: var(--transition-fast);
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.4);
        }
        .cta-button:hover {
            background: var(--primary-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.5);
        }

        /* General Section Styling */
        section {
            padding: 6rem 5%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            position: relative;
        }
        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: var(--primary-color);
            margin: 0.5rem auto 0;
            border-radius: 2px;
        }

        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        .service-card {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-md);
        }
        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .map-container {
            width: 100%;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }
        .map-container iframe {
            display: block;
        }

        /* Contact Section */
        .contact-wrapper {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 3rem;
            align-items: flex-start;
        }
        .contact-info {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid var(--border-color);
        }
        .contact-info h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }
        .contact-info p {
            margin-bottom: 2rem;
        }
        .info-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .info-item .info-icon {
            font-size: 1.5rem;
        }
        .info-item a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.2s;
        }
        .info-item a:hover {
            color: var(--primary-color);
        }
        
        .contact-form {
            display: grid;
            gap: 1.5rem;
            max-width: 700px;
            margin: 0;
        }
        .form-group {
            position: relative;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border-color);
            background: transparent;
            border-radius: 10px;
            color: var(--text-color);
            font-family: inherit;
            font-size: 1rem;
        }
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px var(--primary-color-light);
        }
        html[data-theme='dark'] .form-group input:focus, 
        html[data-theme='dark'] .form-group textarea:focus {
             box-shadow: 0 0 0 2px var(--primary-color-dark);
        }
        .error-message {
            color: #ff4d4d;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        .success-message {
            text-align: center;
            color: #28a745;
            background-color: rgba(40, 167, 69, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
        }


        /* Footer */
        .main-footer {
            text-align: center;
            padding: 2rem 5%;
            margin-top: 2rem;
            border-top: 1px solid var(--border-color);
            background: var(--bg-blur);
        }

        /* RTL Adjustments */
        [dir="rtl"] .form-group label {
             text-align: right;
        }
        [dir="rtl"] .hero-content, [dir="rtl"] .section-title, [dir="rtl"] .service-card {
            text-align: center;
        }
        [dir="rtl"] .section-title::after {
            margin: 0.5rem auto 0;
        }
        [dir="rtl"] .form-group input, [dir="rtl"] .form-group textarea {
             text-align: right;
        }

        [dir="rtl"] .phone-number {
            direction: ltr;
            unicode-bidi: embed;
        }

        /* reCAPTCHA Badge Hide */
        .grecaptcha-badge {
            visibility: hidden;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            html { font-size: 14px; }
            .hero-section { flex-direction: column; gap: 2rem; }
            .hero-title { font-size: 3.5rem; }
            .hero-subtitle { font-size: 1.4rem; }
            section { padding: 4rem 5%; }
            .navbar { flex-direction: column; gap: 1rem; }
            .contact-wrapper { grid-template-columns: 1fr; }
            .hero-features { 
                position: relative; 
                flex-direction: column; 
                bottom: auto; 
                left: auto; 
                transform: none;
                margin-top: 0; /* Reset margin top */
            }
        }
        @media (max-width: 480px) {
             .hero-title { font-size: 3rem; }
             .hero-subtitle { font-size: 1.25rem; }
             .section-title { font-size: 2rem; }
             .hero-features { margin-top: 1.5rem; }
             .hero-feature-card { padding: 0.5rem 1rem; }
        }

    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- PRELOADER ---
            const preloader = document.getElementById('preloader');
            window.addEventListener('load', () => {
                preloader.style.opacity = '0';
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 500);
            });

            // --- THEME SWITCHER ---
            const themeToggle = document.getElementById('theme-checkbox');
            const currentTheme = localStorage.getItem('theme');

            const applyTheme = (theme) => {
                document.documentElement.setAttribute('data-theme', theme);
                if (theme === 'dark') {
                    themeToggle.checked = true;
                }
            };

            if (currentTheme) {
                applyTheme(currentTheme);
            } else {
                // Default to light theme
                applyTheme('light');
            }

            themeToggle.addEventListener('change', function() {
                const theme = this.checked ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
            });

            // --- LANGUAGE TOGGLER ---
            const languageToggle = document.getElementById('language-toggle');
            let currentLang = 'en';

            const translations = {
                en: {
                    logo_text: "Mohammad Pharmacy",
                    hero_title: "Your Health, Our Priority.",
                    hero_subtitle: "Modern care from the heart of Yabroud.",
                    hero_cta: "Contact Us",
                    feature_1: "24/7 Service",
                    feature_2: "Expert Staff",
                    feature_3: "Fast Delivery",
                    services_title: "Our Services",
                    service_1_title: "Prescriptions",
                    service_1_desc: "Fast and accurate prescription filling.",
                    service_2_title: "Medical Advice",
                    service_2_desc: "Professional consultation with our experts.",
                    service_3_title: "Wellness Products",
                    service_3_desc: "A wide range of health and wellness items.",
                    map_title: "Find Us",
                    contact_title: "Get In Touch",
                    contact_info_title: "Contact Information",
                    contact_info_desc: "We are here to help. Contact us by phone, email or through the form.",
                    address: "Main Street, Salhiyya, Yabroud, Damascus",
                    form_name: "Name",
                    form_phone: "Phone Number",
                    form_message: "Message",
                    form_submit: "Send Message",
                    error_name: "Name must be at least 3 characters.",
                    error_phone: "Please enter a valid Syrian phone number (e.g., 0912345678).",
                    error_message: "Message must be at least 10 characters.",
                    form_success: "Thank you! Your message has been sent.",
                    footer_text: "&copy; 2025 Mohammad Pharmacy. All Rights Reserved."
                },
                ar: {
                    logo_text: "ÿµŸäÿØŸÑŸäÿ© ŸÖÿ≠ŸÖÿØ",
                    hero_title: "ÿµÿ≠ÿ™ŸÉ ÿ£ŸàŸÑŸàŸäÿ™ŸÜÿß.",
                    hero_subtitle: "ÿµŸäÿØŸÑŸäÿ™ŸÉŸÖ ÿßŸÑŸÖŸàÿ´ŸàŸÇÿ© ŸÅŸä ŸÇŸÑÿ® Ÿäÿ®ÿ±ŸàÿØ.",
                    hero_cta: "ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß",
                    feature_1: "ÿÆÿØŸÖÿ© 24/7",
                    feature_2: "ŸÅÿ±ŸäŸÇ ŸÖŸÜ ÿßŸÑÿÆÿ®ÿ±ÿßÿ°",
                    feature_3: "ÿ™ŸàÿµŸäŸÑ ÿ≥ÿ±Ÿäÿπ",
                    services_title: "ÿÆÿØŸÖÿßÿ™ŸÜÿß",
                    service_1_title: "ÿßŸÑŸàÿµŸÅÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ©",
                    service_1_desc: "ÿµÿ±ŸÅ ÿØŸÇŸäŸÇ Ÿàÿ≥ÿ±Ÿäÿπ ŸÑŸÑŸàÿµŸÅÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ©.",
                    service_2_title: "ÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿßÿ™ ÿ∑ÿ®Ÿäÿ©",
                    service_2_desc: "ÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿßÿ™ ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ© ŸÖÿπ ÿÆÿ®ÿ±ÿßÿ¶ŸÜÿß.",
                    service_3_title: "ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿπŸÜÿßŸäÿ©",
                    service_3_desc: "ŸÖÿ¨ŸÖŸàÿπÿ© Ÿàÿßÿ≥ÿπÿ© ŸÖŸÜ ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿµÿ≠ÿ© ŸàÿßŸÑÿπÿßŸÅŸäÿ©.",
                    map_title: "ŸÖŸàŸÇÿπŸÜÿß",
                    contact_title: "ÿßÿ®ŸÇŸâ ÿπŸÑŸâ ÿ™ŸàÿßÿµŸÑ",
                    contact_info_title: "ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™ŸàÿßÿµŸÑ",
                    contact_info_desc: "ŸÜÿ≠ŸÜ ŸáŸÜÿß ŸÑŸÑŸÖÿ≥ÿßÿπÿØÿ©. ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿπÿ®ÿ± ÿßŸÑŸáÿßÿ™ŸÅ ÿ£Ÿà ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿ£Ÿà ŸÖŸÜ ÿÆŸÑÿßŸÑ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨.",
                    address: "ÿßŸÑÿ¥ÿßÿ±ÿπ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿå ÿßŸÑÿµÿßŸÑÿ≠Ÿäÿ©ÿå Ÿäÿ®ÿ±ŸàÿØÿå ÿ±ŸäŸÅ ÿØŸÖÿ¥ŸÇÿå ÿ≥Ÿàÿ±Ÿäÿß",
                    form_name: "ÿßŸÑÿßÿ≥ŸÖ",
                    form_phone: "ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ",
                    form_message: "ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©",
                    form_submit: "ÿ£ÿ±ÿ≥ŸÑ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©",
                    error_name: "Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ™ŸÉŸàŸÜ ÿßŸÑÿßÿ≥ŸÖ ŸÖŸÜ 3 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.",
                    error_phone: "ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿ≥Ÿàÿ±Ÿä ÿµÿßŸÑÿ≠ (ŸÖÿ´ÿßŸÑ: 0912345678).",
                    error_message: "Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ÿ™ŸÉŸàŸÜ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ŸÖŸÜ 10 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.",
                    form_success: "ÿ¥ŸÉÿ±ÿßŸã ŸÑŸÉ! ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ±ÿ≥ÿßŸÑÿ™ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠.",
                    footer_text: "&copy; 2025 ÿµŸäÿØŸÑŸäÿ© ŸÖÿ≠ŸÖÿØ ÿßŸÑÿ≠ÿØŸäÿ´ÿ©. ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©."
                }
            };
            
            const translatePage = () => {
                document.querySelectorAll('[data-translate]').forEach(el => {
                    const key = el.getAttribute('data-translate');
                    if (translations[currentLang][key]) {
                       el.innerHTML = translations[currentLang][key];
                    }
                });
                document.documentElement.lang = currentLang;
                document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
                languageToggle.textContent = currentLang === 'ar' ? 'English' : 'ÿπÿ±ÿ®Ÿä';
            };

            languageToggle.addEventListener('click', () => {
                currentLang = currentLang === 'en' ? 'ar' : 'en';
                translatePage();
            });
            
            // Initial translation call
            translatePage();

            // --- LAZY LOAD reCAPTCHA ---
            const contactSection = document.getElementById('contact');
            let recaptchaLoaded = false;

            const recaptchaObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!recaptchaLoaded) {
                            const script = document.createElement('script');
                            script.src = `https://www.google.com/recaptcha/api.js?render=6LfrYRUsAAAAAAavLZzwCvEwdAVLHCiiJfbLYbIH`;
                            script.async = true;
                            script.defer = true;
                            document.head.appendChild(script);
                            recaptchaLoaded = true;
                        }
                        // Show the reCAPTCHA badge
                        document.querySelector('.grecaptcha-badge').style.visibility = 'visible';
                    } else {
                        // Hide the reCAPTCHA badge when not intersecting
                        if (document.querySelector('.grecaptcha-badge')) {
                            document.querySelector('.grecaptcha-badge').style.visibility = 'hidden';
                        }
                    }
                });
            }, {
                rootMargin: '0px',
                threshold: 0.1
            });

            if (contactSection) {
                recaptchaObserver.observe(contactSection);
            }

            // --- CONTACT FORM VALIDATION ---
            const form = document.getElementById('contact-form');
            const nameInput = document.getElementById('name');
            const phoneInput = document.getElementById('phone');
            const messageInput = document.getElementById('message');
            
            // Note: The success message from Formspree will be handled by Formspree's own success page.
            // You can configure it to redirect back to your site.
            // const successMessage = document.getElementById('form-success-message');

            const sanitize = (str) => {
                const temp = document.createElement('div');
                temp.textContent = str;
                return temp.innerHTML;
            };

            const showError = (input, messageKey) => {
                const formGroup = input.parentElement;
                const errorDiv = formGroup.querySelector('.error-message');
                errorDiv.setAttribute('data-translate', messageKey);
                errorDiv.textContent = translations[currentLang][messageKey]; // Also update text immediately
                errorDiv.style.display = 'block';
                input.style.borderColor = '#ff4d4d';
            };

            const hideError = (input) => {
                const formGroup = input.parentElement;
                const errorDiv = formGroup.querySelector('.error-message');
                errorDiv.style.display = 'none';
                input.style.borderColor = ''; // Revert to default
            };

            const hideAllErrors = () => {
                document.querySelectorAll('.error-message').forEach(el => {
                    el.style.display = 'none';
                    el.closest('.form-group').querySelector('input, textarea').style.borderColor = '';
                });
            };
            
            const validateForm = () => {
                let isValid = true;
                
                // Name validation
                if (nameInput.value.trim().length < 3) {
                    showError(nameInput, 'error_name');
                    isValid = false;
                } else {
                    hideError(nameInput);
                }

                // Phone validation (Syrian format)
                const phoneRegex = /^09\d{8}$/;
                if (!phoneRegex.test(phoneInput.value.trim())) {
                    showError(phoneInput, 'error_phone');
                    isValid = false;
                } else {
                    hideError(phoneInput);
                }

                // Message validation
                if (messageInput.value.trim().length < 10) {
                    showError(messageInput, 'error_message');
                    isValid = false;
                } else {
                    hideError(messageInput);
                }

                return isValid;
            }

            form.addEventListener('submit', async function(e) {
                e.preventDefault(); // Prevent default form submission

                if (!validateForm()) {
                    return;
                }

                // Sanitize before submitting
                nameInput.value = sanitize(nameInput.value);
                phoneInput.value = sanitize(phoneInput.value);
                messageInput.value = sanitize(messageInput.value);

                // Execute reCAPTCHA
                grecaptcha.ready(function() {
                    grecaptcha.execute('6LfrYRUsAAAAAAavLZzwCvEwdAVLHCiiJfbLYbIH', {action: 'submit'}).then(async function(token) {
                        document.getElementById('g-recaptcha-response').value = token;

                        const formData = new FormData(form);
                        try {
                            const response = await fetch(form.action, {
                                method: 'POST',
                                body: formData,
                                headers: {
                                    'Accept': 'application/json'
                                }
                            });

                            if (response.ok) {
                                form.reset();
                                hideAllErrors(); // Clear any validation errors
                                const successMessage = document.getElementById('form-success-message');
                                successMessage.style.display = 'block';
                                setTimeout(() => {
                                    successMessage.style.opacity = '0';
                                    setTimeout(() => {
                                        successMessage.style.display = 'none';
                                        successMessage.style.opacity = '1';
                                    }, 500);
                                }, 5000); // Message disappears after 5 seconds
                            } else {
                                alert('Oops! There was a problem submitting your form.');
                            }
                        } catch (error) {
                            console.error('Error during form submission:', error);
                            alert('Oops! There was a problem with the network. Please try again later.');
                        }
                    });
                });
            });

        });
    </script>
</body>
</html>
